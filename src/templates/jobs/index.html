{% extends "base.html" %}

{% block body %}

<h1>Jobs index</h1>

<a href="{% url 'jobs:add' %}">Add new job</a>

<hr>

<table class="table table-striped">
  <thead>
    <tr>
      <td>Job ID</td>
      <td>Submission time</td>
      <td>Status</td>
    </tr>
  </thead>
  <tbody>
  {% for job in object_list %}
  <tr>
    <td>
      <a href="{% url 'jobs:details' job.id %}"> {{ job.id }} </a>
    </td>
    <td>
      {{ job.created }}
    </td>
    <td>
      {{ job.get_status_display }}
    </td>
  </tr>
  {% empty %}
    <tr><td colspan="3">No Jobs submitted</td></tr>
  {% endfor %}
  </tbody>
</table>

{% if is_paginated %}
  {% if page_obj.has_previous %}
    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
  {% endif %}
  <a>{{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</a>

  {% if page_obj.has_next %}
  <a href="?page={{ page_obj.next_page_number }}">next</a>
  {% endif %}
{% endif %}

{% endblock %}
